@model MvcEcommerceFashion.Models.ViewModels.ProductsDetailActionModel
@functions {
  public string generateListProductClass(int count)
  {
    if ((count + 1) % 3 == 0)
    {
      return "col-lg-4 col-12";
    }
    return "col-lg-4 col-12 mb-3";
  }
}
@{
  var ItemCount = 0;
  ViewData["Title"] = Model.Product!.Name;
}
<section class="product-detail section-padding">
  <div class="container">
    <div class="row">

      <div class="col-lg-6 col-12">
        <div class="product-thumb">
          <img src="@Model.Product.ImageUrl" class="img-fluid product-image" alt="">
        </div>
      </div>

      <div class="col-lg-6 col-12">
        <div class="product-info d-flex">
          <div>
            <h2 class="product-title mb-0">@Model.Product.Name</h2>

            <p class="product-p">@Model.Product.Description</p>
          </div>

          <small class="product-price text-muted ms-auto mt-auto mb-5">$@Model.Product.Price</small>
        </div>

        <div class="product-description">

          <strong class="d-block mt-4 mb-2">Description</strong>

          <p class="lead mb-5">@Model.Product.DetailDescription</p>
        </div>

        <div class="product-cart-thumb row">
          <div class="col-lg-6 col-12">

            <select class="form-select cart-form-select" id="inputGroupSelect01">
              <option selected>Quantity</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>

          <div class="col-lg-6 col-12 mt-4 mt-lg-0">
            @* #TODO: go to my cart later *@
            <a href='#'> <button class="btn custom-btn cart-btn">Add to Cart</button> </a>
          </div>
          <h5>
            <a asp-controller="Home" asp-action="Privacy" class="product-additional-link">Delivery within 3 days</a>
            <br>
            <a asp-controller="Home" asp-action="Privacy" class="product-additional-link">Refund policy : Only with Bill
              over 75$ </a>
          </h5>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="related-product section-padding border-top">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h3 class="mb-5">You might also like</h3>
      </div>
      @foreach(var item in Model.RelatedProducts)
      {
        <div class="@generateListProductClass(ItemCount)">
          <div class="product-thumb">
            <a asp-action="Details" asp-route-id="@item.Id">
              <img src="@item.ImageUrl" class="img-fluid product-image" alt="">
            </a>

            <div class="product-top d-flex">
              @if (item.Tag != "")
              {
                <span class="product-alert me-auto">@item.Tag</span>
              }
              @* #TODO: this heart will do something *@
              <a href="#" class="bi-heart-fill product-icon"></a>
            </div>

            <div class="product-info d-flex">
              <div>
                <h5 class="product-title mb-0">
                  <a asp-action="Details" asp-route-id="@item.Id" class="product-title-link">@item.Name</a>
                </h5>

                <p class="product-p">@item.Description</p>
              </div>

              <small class="product-price text-muted ms-auto mt-auto mb-5">$@item.Price</small>
            </div>
          </div>
        </div>
        ItemCount++;
      }
    </div>
  </div>
</section>